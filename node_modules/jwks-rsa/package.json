{
  "_from": "jwks-rsa",
  "_id": "jwks-rsa@1.3.0",
  "_inBundle": false,
  "_integrity": "sha512-9q+d5VffK/FvFAjuXoddrq7zQybFSINV4mcwJJExGKXGyjWWpTt3vsn/aX33aB0heY02LK0qSyicdtRK0gVTig==",
  "_location": "/jwks-rsa",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "jwks-rsa",
    "fetchSpec": "latest",
    "name": "jwks-rsa",
    "raw": "jwks-rsa",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/jwks-rsa/-/jwks-rsa-1.3.0.tgz",
  "_shasum": "f37d2a6815af17a3b2e5898ab2a41ad8c168b295",
  "_shrinkwrap": null,
  "_spec": "jwks-rsa",
  "_where": "/Users/lauirvin/Desktop/yummy",
  "author": {
    "name": "Auth0"
  },
  "bugs": {
    "url": "https://github.com/auth0/node-jwks-rsa/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "@types/express-jwt": "0.0.34",
    "debug": "^2.2.0",
    "limiter": "^1.1.0",
    "lru-memoizer": "^1.6.0",
    "ms": "^2.0.0",
    "request": "^2.73.0"
  },
  "deprecated": false,
  "description": "Library to retrieve RSA public keys from a JWKS endpoint",
  "devDependencies": {
    "babel-cli": "^6.9.0",
    "babel-core": "^6.9.0",
    "babel-eslint": "^6.0.4",
    "babel-preset-es2015": "^6.9.0",
    "babel-preset-stage-0": "^6.5.0",
    "chai": "^3.5.0",
    "eslint": "^2.10.2",
    "eslint-plugin-babel": "^3.2.0",
    "express-jwt": "^3.4.0",
    "jsonwebtoken": "^7.1.7",
    "koa": "^2.2.0",
    "koa-jwt": "^3.2.0",
    "mocha": "^2.5.3",
    "nock": "^8.0.0",
    "rimraf": "^2.5.2",
    "supertest": "^3.0.0"
  },
  "homepage": "https://github.com/auth0/node-jwks-rsa#readme",
  "keywords": [
    "jwks",
    "jwt",
    "rsa"
  ],
  "license": "MIT",
  "main": "lib/index.js",
  "name": "jwks-rsa",
  "optionalDependencies": {},
  "readme": "# jwks-rsa\n\nA library to retrieve RSA signing keys from a JWKS (JSON Web Key Set) endpoint.\n\n> npm install --save jwks-rsa\n\n## Usage\n\nYou'll provide the client with the JWKS endpoint which exposes your signing keys. Using the `getSigningKey` you can then get the signing key that matches a specific `kid`.\n\n```js\nconst jwksClient = require('jwks-rsa');\n\nconst client = jwksClient({\n  strictSsl: true, // Default value\n  jwksUri: 'https://sandrino.auth0.com/.well-known/jwks.json'\n});\n\nconst kid = 'RkI5MjI5OUY5ODc1N0Q4QzM0OUYzNkVGMTJDOUEzQkFCOTU3NjE2Rg';\nclient.getSigningKey(kid, (err, key) => {\n  const signingKey = key.publicKey || key.rsaPublicKey;\n\n  // Now I can use this to configure my Express or Hapi middleware\n});\n```\n\nIntegrations are also provided with:\n\n - [express/express-jwt](examples/express-demo)\n - [hapi/hapi-auth-jwt2](examples/hapi-demo)\n - [koa/koa-jwt](examples/koa-demo)\n\n### Caching\n\nIn order to prevent a call to be made each time a signing key needs to be retrieved you can also configure a cache as follows. If a signing key matching the `kid` is found, this will be cached and the next time this `kid` is requested the signing key will be served from the cache instead of calling back to the JWKS endpoint.\n\n```js\nconst jwksClient = require('jwks-rsa');\n\nconst client = jwksClient({\n  cache: true,\n  cacheMaxEntries: 5, // Default value\n  cacheMaxAge: ms('10h'), // Default value\n  jwksUri: 'https://sandrino.auth0.com/.well-known/jwks.json'\n});\n\nconst kid = 'RkI5MjI5OUY5ODc1N0Q4QzM0OUYzNkVGMTJDOUEzQkFCOTU3NjE2Rg';\nclient.getSigningKey(kid, (err, key) => {\n  const signingKey = key.publicKey || key.rsaPublicKey;\n\n  // Now I can use this to configure my Express or Hapi middleware\n});\n```\n\n### Rate Limiting\n\nEven if caching is enabled the library will call the JWKS endpoint if the `kid` is not available in the cache, because a key rotation could have taken place. To prevent attackers to send many random `kid`s you can also configure rate limiting. This will allow you to limit the number of calls that are made to the JWKS endpoint per minute (because it would be highly unlikely that signing keys are rotated multiple times per minute).\n\n```js\nconst jwksClient = require('jwks-rsa');\n\nconst client = jwksClient({\n  cache: true,\n  rateLimit: true,\n  jwksRequestsPerMinute: 10, // Default value\n  jwksUri: 'https://sandrino.auth0.com/.well-known/jwks.json'\n});\n\nconst kid = 'RkI5MjI5OUY5ODc1N0Q4QzM0OUYzNkVGMTJDOUEzQkFCOTU3NjE2Rg';\nclient.getSigningKey(kid, (err, key) => {\n  const signingKey = key.publicKey || key.rsaPublicKey;\n\n  // Now I can use this to configure my Express or Hapi middleware\n});\n```\n\n## Running Tests\n\n```\nnpm run test\n```\n\n## Showing Trace Logs\n\nTo show trace logs you can set the following environment variable:\n\n```\nDEBUG=jwks\n```\n\nOutput:\n\n```\njwks Retrieving keys from http://my-authz-server/.well-known/jwks.json +5ms\njwks Keys: +8ms [ { alg: 'RS256',\n  kty: 'RSA',\n  use: 'sig',\n  x5c: [ 'pk1' ],\n  kid: 'ABC' },\n{ alg: 'RS256', kty: 'RSA', use: 'sig', x5c: [], kid: '123' } ]\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/auth0/node-jwks-rsa.git"
  },
  "scripts": {
    "clean": "rimraf lib/",
    "compile": "babel -d lib/ src/",
    "prepublish": "npm run clean && npm run compile",
    "release": "git tag $npm_package_version && git push && git push --tags && npm publish",
    "test": "NODE_ENV=test mocha --compilers js:babel-core/register --timeout 5000 $(find ./tests -name *.tests.js)",
    "test-watch": "NODE_ENV=test mocha --compilers js:babel-core/register --timeout 5000 $(find ./tests -name *.tests.js) --watch"
  },
  "types": "index.d.ts",
  "version": "1.3.0"
}
